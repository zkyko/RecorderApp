## QA Studio Vision & Narrative

### Why QA Studio Exists
QA Studio is the internal “recorder-to-runner” workbench for Dynamics 365 (D365) test automation. It turns exploratory clicks in the Finance & Operations UI into high-signal Playwright assets—locators, Page Object Models (POMs), and executable specs—so feature teams can keep pace with rapid product changes without drowning in brittle tests.

- **Bridge the gap between SMEs and coders.** Business analysts capture flows in the desktop recorder while automation engineers receive structured, reviewable code.
- **Codify tribal D365 knowledge.** Every recorded session enriches the page registry and locator heuristics, so the next engineer benefits automatically.
- **Keep quality close to shipping.** Tight integration with Playwright and BrowserStack makes it feasible to validate complex D365 scenarios on every branch before release.

### Guiding Principles
1. **“Recorder-first” UX.** Recording must be fast, forgiving, and composable; the code is a by-product, not a burden.
2. **Deterministic automation.** Page classification, locator extraction, and registry lookups collaborate to produce stable selectors even in heavily customized tenants.
3. **Guardrails over guesswork.** Electron main services enforce environment checks, credential handling, and branch-aware config so teams cannot accidentally point at the wrong tenant.
4. **Pluggable evolution.** Each major surface—core recorder, generators, runner, UI—is a versioned module so we can swap heuristics or delivery channels without rewriting the stack.

### Outcomes We Optimize For
- **Authoring speed:** <5 minutes from “start recording” to committed spec for the 80% path.
- **Regression resilience:** Automated locator normalization + registry enrichment eliminate flaky selectors.
- **Cross-team reuse:** Generated POMs share a consistent taxonomy (`d365/<module>/<page>.page.ts`) so scripts compose cleanly across squads.
- **Operational confidence:** Built-in test executor, log streaming, and performance reports tighten the feedback loop from local reproduction to CI runs.

### Product Pillars
| Pillar | Description | Key Modules |
| --- | --- | --- |
| Recorder Intelligence | Captures user intent with D365-aware heuristics (navigation pane rules, spatial safety nets). | `src/core/recorder`, `src/core/classification`, `src/core/locators` |
| Knowledge Graph | Central registry that maps identities (module, MI, caption) to reusable page metadata. | `src/core/registry`, `Recordings/page-registry.json` |
| Code Generation | Deterministic Playwright POM + spec generation, leveraging `ts-morph` for safe merges. | `src/generators`, `src/main/services/codegen-parser.ts` |
| Execution & Feedback | Local runner, BrowserStack hooks, log/perf telemetry to close the loop. | `src/main/test-executor.ts`, `playwright*.config.ts`, `log/performance-report` |
| Experience Layer | Mantine/React-based “Studio” UX for settings, session orchestration, and artifact review. | `src/ui/src` |

### Near-Term Narrative
1. **Precision Recording:** ship the new spatial heuristics and MI-based registry updates (already in `RecorderEngine` and `PageRegistryManager`) to reduce manual locator edits by >60%.
2. **Branch-aware packaging:** leverage `scripts/create-release.ps1` plus Electron Builder targets so each release channel (internal, partner, portable) gets the right config bundle.
3. **Team-ready workflows:** expand the Settings screen to pull module templates, environment secrets, and execution profiles so squads can standardize their pipelines without editing JSON.

### North-Star Experience
> “Open Studio, record a scenario, review autogenerated POMs/specs, hit Run, and publish the ready-to-merge branch—all within one desktop session.”

The documentation in this `docs/` directory breaks that vision into actionable guides for architects, engineers, and end-users without repeating the same content. Refer to:
- `01-studio-architecture.md` for the system map and cross-branch data flow.
- `02-developer-guide.md` for contributor practices, build/run recipes, and extension points.
- `03-user-guide.md` for day-to-day workflows inside the Studio UI.

